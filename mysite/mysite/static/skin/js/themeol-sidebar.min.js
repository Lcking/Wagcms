!function(fQb){fQb.fn.theiaStickySidebar=function(jca){function eCd(jca,eCd){var cUb=Sfd(jca,eCd);cUb||(console.log("TSS: Body width smaller than options.minWidth. Init is delayed."),fQb(document).on("scroll."+jca.namespace,function(jca,eCd){return function(cUb){var PcZ=Sfd(jca,eCd);PcZ&&fQb(this).unbind(cUb)}}(jca,eCd)),fQb(window).on("resize."+jca.namespace,function(jca,eCd){return function(cUb){var PcZ=Sfd(jca,eCd);PcZ&&fQb(this).unbind(cUb)}}(jca,eCd)))}function Sfd(jca,eCd){return jca.initialized===!0||!(fQb("body").width()<jca.minWidth)&&(cUb(jca,eCd),!0)}function cUb(jca,eCd){jca.initialized=!0;var Sfd=fQb("#theia-sticky-sidebar-stylesheet-"+jca.namespace);0===Sfd.length&&fQb("head").append(fQb('<style id="theia-sticky-sidebar-stylesheet-'+jca.namespace+'">.theiaStickySidebar:after {content: ""; display: table; clear: both;}</style>')),eCd.each(function(){function eCd(){cUb.fixedScrollTop=0,cUb.sidebar.css({"min-height":"1px"}),cUb.stickySidebar.css({position:"static",width:"",transform:"none"})}function Sfd(jca){var eCd=jca.height();return jca.children().each(function(){eCd=Math.max(eCd,fQb(this).height())}),eCd}var cUb={};if(cUb.sidebar=fQb(this),cUb.options=jca||{},cUb.container=fQb(cUb.options.containerSelector),0==cUb.container.length&&(cUb.container=cUb.sidebar.parent()),cUb.sidebar.parents().css("-webkit-transform","none"),cUb.sidebar.css({position:cUb.options.defaultPosition,overflow:"visible","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),cUb.stickySidebar=cUb.sidebar.find(".theiaStickySidebar"),0==cUb.stickySidebar.length){var gba=/(?:text|application)\/(?:x-)?(?:javascript|ecmascript)/i;cUb.sidebar.find("script").filter(function(fQb,jca){return 0===jca.type.length||jca.type.match(gba)}).remove(),cUb.stickySidebar=fQb("<div>").addClass("theiaStickySidebar").append(cUb.sidebar.children()),cUb.sidebar.append(cUb.stickySidebar)}cUb.marginBottom=parseInt(cUb.sidebar.css("margin-bottom")),cUb.paddingTop=parseInt(cUb.sidebar.css("padding-top")),cUb.paddingBottom=parseInt(cUb.sidebar.css("padding-bottom"));var TeV=cUb.stickySidebar.offset().top,abe=cUb.stickySidebar.outerHeight();cUb.stickySidebar.css("padding-top",1),cUb.stickySidebar.css("padding-bottom",1),TeV-=cUb.stickySidebar.offset().top,abe=cUb.stickySidebar.outerHeight()-abe-TeV,0==TeV?(cUb.stickySidebar.css("padding-top",0),cUb.stickySidebarPaddingTop=0):cUb.stickySidebarPaddingTop=1,0==abe?(cUb.stickySidebar.css("padding-bottom",0),cUb.stickySidebarPaddingBottom=0):cUb.stickySidebarPaddingBottom=1,cUb.previousScrollTop=null,cUb.fixedScrollTop=0,eCd(),cUb.onScroll=function(cUb){if(cUb.stickySidebar.is(":visible")){if(fQb("body").width()<cUb.options.minWidth)return void eCd();if(cUb.options.disableOnResponsiveLayouts){var gba=cUb.sidebar.outerWidth("none"==cUb.sidebar.css("float"));if(gba+50>cUb.container.width())return void eCd()}var TeV=fQb(document).scrollTop(),abe="static";if(TeV>=cUb.sidebar.offset().top+(cUb.paddingTop-cUb.options.additionalMarginTop)){var HfX,gDe=cUb.paddingTop+jca.additionalMarginTop,HdV=cUb.paddingBottom+cUb.marginBottom+jca.additionalMarginBottom,bjf=cUb.sidebar.offset().top,Ncg=cUb.sidebar.offset().top+Sfd(cUb.container),fbc=0+jca.additionalMarginTop,FaA=cUb.stickySidebar.outerHeight()+gDe+HdV<fQb(window).height();HfX=FaA?fbc+cUb.stickySidebar.outerHeight():fQb(window).height()-cUb.marginBottom-cUb.paddingBottom-jca.additionalMarginBottom;var cUg=bjf-TeV+cUb.paddingTop,b_=Ncg-TeV-cUb.paddingBottom-cUb.marginBottom,fQbfQb=cUb.stickySidebar.offset().top-TeV,jcafQb=cUb.previousScrollTop-TeV;"fixed"==cUb.stickySidebar.css("position")&&"modern"==cUb.options.sidebarBehavior&&(fQbfQb+=jcafQb),"stick-to-top"==cUb.options.sidebarBehavior&&(fQbfQb=jca.additionalMarginTop),"stick-to-bottom"==cUb.options.sidebarBehavior&&(fQbfQb=HfX-cUb.stickySidebar.outerHeight()),fQbfQb=jcafQb>0?Math.min(fQbfQb,fbc):Math.max(fQbfQb,HfX-cUb.stickySidebar.outerHeight()),fQbfQb=Math.max(fQbfQb,cUg),fQbfQb=Math.min(fQbfQb,b_-cUb.stickySidebar.outerHeight());var eCdfQb=cUb.container.height()==cUb.stickySidebar.outerHeight();abe=(eCdfQb||fQbfQb!=fbc)&&(eCdfQb||fQbfQb!=HfX-cUb.stickySidebar.outerHeight())?TeV+fQbfQb-cUb.sidebar.offset().top-cUb.paddingTop<=jca.additionalMarginTop?"static":"absolute":"fixed"}if("fixed"==abe){var SfdfQb=fQb(document).scrollLeft();cUb.stickySidebar.css({position:"fixed",width:PcZ(cUb.stickySidebar)+"px",transform:"translateY("+fQbfQb+"px)",left:cUb.sidebar.offset().left+parseInt(cUb.sidebar.css("padding-left"))-SfdfQb+"px",top:"0px"})}else if("absolute"==abe){var cUbfQb={};"absolute"!=cUb.stickySidebar.css("position")&&(cUbfQb.position="absolute",cUbfQb.transform="translateY("+(TeV+fQbfQb-cUb.sidebar.offset().top-cUb.stickySidebarPaddingTop-cUb.stickySidebarPaddingBottom)+"px)",cUbfQb.top="2px"),cUbfQb.width=PcZ(cUb.stickySidebar)+"px",cUbfQb.left="",cUb.stickySidebar.css(cUbfQb)}else"static"==abe&&eCd();"static"!=abe&&1==cUb.options.updateSidebarHeight&&cUb.sidebar.css({"min-height":cUb.stickySidebar.outerHeight()+cUb.stickySidebar.offset().top-cUb.sidebar.offset().top+cUb.paddingBottom}),cUb.previousScrollTop=TeV}},cUb.onScroll(cUb),fQb(document).on("scroll."+cUb.options.namespace,function(fQb){return function(){fQb.onScroll(fQb)}}(cUb)),fQb(window).on("resize."+cUb.options.namespace,function(fQb){return function(){fQb.stickySidebar.css({position:"static"}),fQb.onScroll(fQb)}}(cUb)),"undefined"!=typeof ResizeSensor&&new ResizeSensor(cUb.stickySidebar[0],function(fQb){return function(){fQb.onScroll(fQb)}}(cUb))})}function PcZ(fQb){var jca;try{jca=fQb[0].getBoundingClientRect().width}catch(fQb){}return"undefined"==typeof jca&&(jca=fQb.width()),jca}var gba={containerSelector:"",additionalMarginTop:0,additionalMarginBottom:0,updateSidebarHeight:!0,minWidth:0,disableOnResponsiveLayouts:!0,sidebarBehavior:"modern",defaultPosition:"relative",namespace:"TSS"};return jca=fQb.extend(gba,jca),jca.additionalMarginTop=parseInt(jca.additionalMarginTop)||0,jca.additionalMarginBottom=parseInt(jca.additionalMarginBottom)||0,eCd(jca,this),this}}(jQuery);